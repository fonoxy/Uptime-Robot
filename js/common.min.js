function trans(e,t={}){let s=e.split(".").reduce((e,t)=>e[t]||null,window.translations);for(var n in t)s=s.replace(`:${n}`,t[n]);return s}function clearCountdown(){clearInterval(cInt)}function playAlertSound(){var e=$("input#pspi").val();try{var t=localStorage.getItem("PSPNotification['"+e+"'']").toString()}catch(e){}"1"==t&&$("audio#notification")[0].play()}function formatDate(e){var t=new Date(e),s=""+(t.getMonth()+1),n=""+t.getDate(),a=t.getFullYear();return s.length<2&&(s="0"+s),n.length<2&&(n="0"+n),[a,s,n].join("-")}function formatLocalizedDateTime(e){const t=trans("common.language_encode_short");return new Date(e).toLocaleString(t||"en",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"UTC",hour12:!1})}function generateAnnListItem(e,t){var s="",n="";"alrt"==e.eventType?(s='data-monitor-id="m-'+e.monitorID+'"',s+='data-date="d-'+formatDate(e.date)+'"',t&&$('.announcement-feed .psp-announcement[data-date=""]').length<=30&&$('.announcement-feed[data-monitor-id="m-'+e.monitorID+'][data-date="'+formatDate(e.date)+'"]').remove()):n=" is-"+e.icon;var a='<div class="psp-announcement'+n+'" '+s+">";if(a+='<div class="uk-flex uk-flex-middle uk-flex-wrap uk-margin-small-bottom">',!0===t&&(a+='<div class="uk-label uk-label-small uk-margin-small-right">'+trans("status.new")+"</div>"),a+='<div class="uk-text-muted uk-text-bold font-14">'+e.date+"</div>",a+="</div>",a+='<div class="uk-flex">',"alrt"==e.eventType){a+='<svg class="psp-announcement-icon icon icon-arrow-down-circle uk-flex-none"><use href="images/symbol-defs.svg#icon-arrow-down-circle"></use></svg>',a+='<div class="uk-flex-auto">',a+='<h4 class="uk-margin-remove">'+trans("common.monitor_was_down_for",{monitor:e.monitor,duration:e.duration})+"</h4>",1==e.alertCount?a+="<p>"+trans("common.outage_count_singular")+"</p>":a+="<p>"+trans("common.outage_count").replace("%s",e.alertCount)+"</p>",a+='<p class="uk-text-muted font-14">';const t=DOMPurify.sanitize(window.location.href.replace(location.search,"").replace(/\/$/,""));window.enableD&&(a+='<a href="'+t+"/"+e.monitorID+'#logs">'+trans("common.see_details")+'<svg class="icon icon-plus-square m-l-5 font-14"><use href="images/symbol-defs.svg#icon-arrow-right"></use></svg></a> | '),a+='<date uk-tooltip title="'+e.timeGMT+' GMT">'+trans("announcement.updated_on")+" "+e.time+" GMT"+window.timeZone+"        </date></p>"}else a+='<svg class="psp-announcement-icon icon icon-'+e.icon+' uk-flex-none"><use href="images/symbol-defs.svg#icon-'+e.icon+'"></use></svg>',a+='<div class="uk-flex-auto">',a+='<h4 class="uk-margin-remove">'+e.title+"</h4>",a+="<p>"+e.content+"</p>",null!==e.endDate?(a+='<p class="uk-text-muted font-14">',a+='<span class="uk-display-inline-block" uk-tooltip title="'+e.timeGMT+' GMT">                '+e.date+", "+e.time+" GMT"+window.timeZone+"             </span>",a+='<span class="uk-display-inline-block" uk-tooltip title="'+e.endDateGMT+' GMT">                &nbsp;â€” '+e.endDate+" GMT"+window.timeZone+"            </span>",a+="</p>"):a+='<p class="uk-text-muted font-14 uk-display-inline-block" uk-tooltip title="'+e.timeGMT+' GMT">'+trans("announcement.updated_on")+" "+e.time+" GMT"+window.timeZone+"            </p>";return a+="</div></div></div>"}function callEventFeed(e,t,s,n){var a="",o=7;0==window.showO&&(o=30);var r=~~((parseFloat(Date.now())-864e5*o)/1e3);!0===e&&(r=~~(parseFloat(Date.now()-120)/1e3)),null!==s&&(r=~~(parseFloat(s)/1e3)),null!==t&&(a="&to_date="+~~(parseFloat(t)/1e3)),void 0!==n&&(n.html('<div class="psp-fake-monitorname"></div><div class="psp-fake-uptime-bars"></div>            <div class="psp-fake-monitorname"></div>            <div class="psp-fake-uptime-bars"></div>            <div class="psp-fake-monitorname"></div>            <div class="psp-fake-uptime-bars"></div>'),$(".psp-calendar-nav").addClass("loading")),$.ajax({type:"GET",url:window.eventsApiPath+"?from_date="+r+a,dataType:"json",cache:!1,success:function(t){if(!0===t.status)if($(".announcement-feed-preloader").addClass("uk-hidden"),t.meta.count>0){var s=Object.values(t.results).map(function(t){return generateAnnListItem(t,e)});void 0!==n?(n.html(s.join("")),$(".psp-calendar-nav").removeClass("loading")):($(".announcement-feed").prepend(s.join("")),$(".announcement-last").removeClass("uk-hidden"),e&&$(".announcement-empty").addClass("uk-hidden"))}else void 0!==n?(n.html('<div><em class="uk-text-muted">'+trans("common.no_updates_selected_range")+".</em></div>"),$(".psp-calendar-nav").removeClass("loading")):e||$(".announcement-empty").removeClass("uk-hidden")},error:function(e){console.log(e)}})}function setCookie(e,t,s){var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){for(var t=e+"=",s=decodeURIComponent(document.cookie).split(";"),n=0;n<s.length;n++){for(var a=s[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}setTimeout(function(){window.location.reload(!0)},36e5),$(function(){$(".enter-fullscreen").on("click",function(){var e=document.documentElement;0==$(this).data("fullscreen")?(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),window.scrollTo(0,0)):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}),document.documentElement.addEventListener("fullscreenchange",function(e){null===document.fullscreenElement?$(".enter-fullscreen").data("fullscreen",!1):$(".enter-fullscreen").data("fullscreen",!0),$("html").toggleClass("is-fullscreen"),$(".enter-fullscreen .icon").toggleClass("uk-hidden")});var e=$("input#pspi").val();try{localStorage.setItem("PSPNotification['"+e+"'']","0")}catch(e){}$(".toggle-notif").on("click",function(){if(0==$(this).data("notif")){try{localStorage.setItem("PSPNotification['"+e+"'']","1")}catch(e){}$(this).data("notif",!0)}else{try{localStorage.setItem("PSPNotification['"+e+"'']","0")}catch(e){}$(this).data("notif",!1)}$(".toggle-notif .icon, .toggle-notif .label").toggleClass("uk-hidden")}),$("#login-form").submit(function(e){$(".form-message").addClass("uk-hidden"),$("#login-form #password-input").val().length>0?($(".form-message").text(""),$.ajax({type:"POST",url:$(this).attr("action"),data:$(this).serialize(),dataType:"json",cache:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$(".form-message").text(e.message),!0===e.success?($(".form-message").removeClass("uk-alert-danger").addClass("uk-alert-success"),window.location.replace(window.location.protocol+"//"+window.location.host+"/"+e.redirect)):$(".form-message").removeClass("uk-alert-success").addClass("uk-alert-danger"),$(".form-message").removeClass("uk-hidden"),$(".form-message").removeClass("uk-hidden")},error:function(){$(".form-message").removeClass("uk-alert-success").addClass("uk-alert-danger").text(trans("common.try_again"))}})):($(".form-message").removeClass("uk-alert-success").addClass("uk-alert-danger").text(trans("common.password_required")),$(".form-message").removeClass("uk-hidden"),$(".form-message").removeClass("uk-hidden")),e.preventDefault()}),UIkit.util.on("#subscribe-dropdown","show",function(){$("#subscribe-dropdown input").focus(),$("#subscribe-form .form-message").text("").addClass("uk-hidden").removeClass("uk-alert-success uk-alert-danger"),$("#subscribe-form button").prop("disabled",!1),window.sendGAEvents&&gtag("event","UR_SP_subscribe_open",{event_category:"UptimeRobot Status page",event_label:"Open subscription dropdown"})}),1!=getCookie("ckConsent")&&$("#ck-consent").removeClass("uk-hidden"),$(".hide-ckc").on("click",function(){$("#ck-consent").remove(),setCookie("ckConsent",1,7)}),$("#unsubscribe-form").on("submit",function(e){e.preventDefault();var t=$("input#pspi").val(),s=$('#unsubscribe-form input[type="email"]').val(),n=$('#unsubscribe-form input[name="_token"]').val();return $("#unsubscribe-form .form-message").text("").addClass("uk-hidden").removeClass("uk-alert-success uk-alert-danger"),$("#unsubscribe-form button").text("Processing...").prop("disabled",!0),$.ajax({type:"POST",url:$("#unsubscribe-form").attr("action"),data:{email:s,pspUrlKey:t,_token:n},dataType:"json",cache:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$("#unsubscribe-form button").text("Send unsubscribe link").prop("disabled",!1),1==e.status?$("#unsubscribe-form .form-message").html("Unsubscribe link has been sent. <strong>Confirm the unsubscribe by clicking a link in the email, please.</strong>").removeClass("uk-hidden").removeClass("uk-alert-danger").addClass("uk-alert-success"):$("#unsubscribe-form .form-message").text(e.message).removeClass("uk-hidden").addClass("uk-alert-danger"),window.sendGAEvents&&gtag("event","UR_SP_unsubscribe_sucessfull",{event_category:"UptimeRobot Status page",event_label:"Successfully unsubscribed with email"}),1==window.sendGTM&&dataLayer.push({event:"psp-unsubscribe-ok"})},error:function(e){$("#unsubscribe-form button").text("Subscribe").prop("disabled",!1);var t=trans("common.try_again");"Subscription not found"==e.responseJSON.message?t="Given email address is not suscribed to this status page.":window.Sentry&&Sentry.captureException(e),$("#unsubscribe-form .form-message").text(t).removeClass("uk-hidden").addClass("uk-alert-danger")}}),!1}),UIkit.util.on("#unsubscribe","show",function(){$("#unsubscribe-form .form-message").text("").addClass("uk-hidden").removeClass("uk-alert-success uk-alert-danger")})}),$("#subscribe-form").on("submit",function(e){e.preventDefault();var t=$("input#pspi").val(),s=$('#subscribe-form input[type="email"]').val(),n=$('#subscribe-form input[name="_token"]').val();return $("#subscribe-form .form-message").text("").addClass("uk-hidden").removeClass("uk-alert-success uk-alert-danger uk-alert-primary"),$("#subscribe-form button").text(trans("subscribe.processing")).prop("disabled",!0),$.ajax({type:"POST",url:$("#subscribe-form").attr("action"),data:{email:s,pspUrlKey:t,_token:n},dataType:"json",cache:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){$("#subscribe-form button").text(trans("subscribe.submit_button")).prop("disabled",!1),e[0]==trans("subscribe.successful")?$("#subscribe-form .form-message").html(trans("subscribe.mail_sent")).removeClass("uk-hidden").addClass("uk-alert-success"):$("#subscribe-form .form-message").text(e[0]).removeClass("uk-hidden").addClass("uk-alert-danger"),window.sendGAEvents&&gtag("event","UR_SP_subscribe_sucessfull",{event_category:"UptimeRobot Status page",event_label:"Successfully subscribed with email"}),1==window.sendGTM&&dataLayer.push({event:"psp-subscribe-ok"})},error:function(e){$("#subscribe-form button").text(trans("subscribe.submit_button")).prop("disabled",!1),409==e.status?$("#subscribe-form .form-message").text(e.responseJSON[0]).removeClass("uk-hidden").addClass("uk-alert-primary"):($("#subscribe-form .form-message").text(trans("subscribe.try_again")).removeClass("uk-hidden").addClass("uk-alert-danger"),window.Sentry&&Sentry.captureException(e))}}),!1});
//# sourceMappingURL=common.min.js.map